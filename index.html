<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Home</title>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel="stylesheet" href="assets/materialize/css/materialize.min.css" media="screen,projection" />
	<!-- Bootstrap Styles-->
	<link href="assets/css/bootstrap.css" rel="stylesheet" />
	<!-- FontAwesome Styles-->
	<link href="assets/css/font-awesome.css" rel="stylesheet" />
	<!-- Morris Chart Styles-->
	<link href="assets/js/morris/morris-0.4.3.min.css" rel="stylesheet" />
	<!-- Custom Styles-->
	<link href="assets/css/custom-styles.css" rel="stylesheet" />
	<!-- Google Fonts-->
	<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />
	<link rel="stylesheet" href="assets/js/Lightweight-Chart/cssCharts.css">

	<!-- each country -->
	<link href="https://unpkg.com/bootstrap@4.4.1/dist/css/bootstrap.min.css">
	<link href="https://use.fontawesome.com/releases/v5.12.1/css/all.css">
	<link href="https://unpkg.com/bootstrap-table@1.16.0/dist/bootstrap-table.min.css" rel="stylesheet">
	<!-- each country -->

</head>

<body>
	<div id="wrapper">
		<nav class="navbar navbar-default top-navbar" role="navigation">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle waves-effect waves-dark" data-toggle="collapse"
					data-target=".sidebar-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand waves-effect waves-dark" href="index.html"><i
						class="large material-icons">track_changes</i> <strong>Covid-19</strong></a>
			</div>
			<div id="sideNav" href=""><i class="material-icons dp48">toc</i></div>
			<ul class="nav navbar-top-links navbar-right">
				<li><a class="dropdown-button waves-effect waves-dark" href="#!" data-activates="dropdown4"><i
							class="fa fa-envelope fa-fw"></i> <i class="material-icons right">arrow_drop_down</i></a>
				</li>
				<li><a class="dropdown-button waves-effect waves-dark" href="#!" data-activates="dropdown3"><i
							class="fa fa-tasks fa-fw"></i> <i class="material-icons right">arrow_drop_down</i></a></li>
				<li><a class="dropdown-button waves-effect waves-dark" href="#!" data-activates="dropdown1"><i
							class="fa fa-user fa-fw"></i> <b>Aom Tamasat</b> <i
							class="material-icons right">arrow_drop_down</i></a></li>
			</ul>
		</nav>
		<!-- Dropdown Structure -->
		<ul id="dropdown1" class="dropdown-content">
			<li><a href="About.html"><i class="fa fa-user fa-fw"></i> My Profile</a>
			</li>
		</ul>

		<ul id="dropdown3" class="dropdown-content dropdown-tasks w250">
			<li>
				<a href="#">
					<div>
						<p>
							<strong>Task 1</strong>
							<span class="pull-right text-muted">90% Complete</span>
						</p>
						<div class="progress progress-striped active">
							<div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="90"
								aria-valuemin="0" aria-valuemax="100" style="width: 90%">
								<span class="sr-only">90% Complete (success)</span>
							</div>
						</div>
					</div>
				</a>
			</li>
			<li class="divider"></li>
			<li>
				<a href="#">
					<div>
						<p>
							<strong>Task 4</strong>
							<span class="pull-right text-muted">10% Complete</span>
						</p>
						<div class="progress progress-striped active">
							<div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="10"
								aria-valuemin="0" aria-valuemax="100" style="width: 10%">
								<span class="sr-only">10% Complete (danger)</span>
							</div>
						</div>
					</div>
				</a>
			</li>
			<li class="divider"></li>
			<li>
		</ul>
		<ul id="dropdown4" class="dropdown-content dropdown-tasks w250 taskList">
			<li>
				<div>
					<strong>For who read this</strong>
					<span class="pull-right text-muted">
						<em>Today</em>
					</span>
				</div>
				<p>Who saw a bug or error pls tell me FB : Tamasat Aomm</p>
				</a>
			</li>
		</ul>

		<!--/. NAV TOP  -->
		<nav class="navbar-default navbar-side" role="navigation">
			<div class="sidebar-collapse">
				<ul class="nav" id="main-menu">

					<li>
						<a class="active-menu waves-effect waves-dark" href="index.html"><i class="fa fa-dashboard"></i>
							Dashboard</a>
					</li>
					<li>
						<a href="count.html" class="waves-effect waves-dark"><i class="fa fa-desktop"></i> Country</a>
					</li>
					<li>
                        <a href="charts.html" class="waves-effect waves-dark"><i class="fa fa-bar-chart-o"></i> Charts</a>
                    </li>
					<li>
						<a href="form.html" class="waves-effect waves-dark"><i class="fa fa-edit"></i>Self Assessment
						</a>
					</li>
					<li>
						<a href="About.html" class="waves-effect waves-dark"><i class="fa fa-qrcode"></i> About me</a>
					</li>




				</ul>

			</div>

		</nav>


		<!-- /. NAV SIDE  -->

		<div id="page-wrapper">
			<div class="col-xs-12">
				<div id="page-inner">
					<div class="row">
						<div class="col-md-12">
							<div class="card">
								<div class="card-content">
									<div class="jumbotron">
										<div class="container">
											<div class="container-fluid mt-2">
												<div id="toolbar">
													<h3>COVID-19 Update (Live)</h3>
												</div>
												<table id="table" data-toolbar="#toolbar" data-search="true"
													data-show-columns="true" data-show-columns-toggle-all="true"
													data-sort-name="totalcases" data-show-footer="true">
												</table>
											</div>


											<script src="https://unpkg.com/jquery@3.4.1/dist/jquery.min.js"></script>
											<script
												src="https://unpkg.com/popper.js@1.16.0/dist/umd/popper.min.js"></script>
											<script
												src="https://unpkg.com/bootstrap@4.4.1/dist/js/bootstrap.min.js"></script>
											<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
											<script
												src="https://unpkg.com/bootstrap-table@1.16.0/dist/bootstrap-table.min.js"></script>
											<script
												src="https://unpkg.com/bootstrap-table@1.16.0/dist/bootstrap-table-locale-all.min.js"></script>
											<script
												src="https://unpkg.com/tableexport.jquery.plugin/tableExport.min.js"></script>
											<script
												src="https://unpkg.com/bootstrap-table@1.16.0/dist/extensions/export/bootstrap-table-export.min.js"></script>
											<script>

												axios.get('https://api.covid19api.com/summary').then(function (response) {
													var rawData = myData(response.data.Countries);
													myTable(rawData);
												}).catch(function (error) {
													console.log(error);
												})

												function myData(data) {
													var list = [];
													data.forEach(function (item) {
														list.push({
															country: '<img src="img/flags/' + item.CountryCode.toLowerCase() + '.svg" width="36"> ' + item.Country, //github.com/rinvex/countries
															newcases: item.NewConfirmed,
															totalcases: item.TotalConfirmed,
															newdeaths: item.NewDeaths,
															totaldeaths: item.TotalDeaths,
															newrecoveries: item.NewRecovered,
															totalrecoveries: item.TotalRecovered,
															lastupdate: new Date(item.Date).getDate() + '/' + new Date(item.Date).getMonth() + '/' + new Date(item.Date).getFullYear() //.toLocaleString()
														});
													});
													return list;
												}

												function myTable(arr) {
													var myTable = $('#table').bootstrapTable({
														height: 600,
														locale: 'en_US',
														columns: [
															[
																{ field: 'country', title: 'Countries and territories', rowspan: 2, align: 'left', valign: 'middle', footerFormatter: countFormatter },
																{ title: 'Confirmed infections', colspan: 2, align: 'center', valign: 'middle' },
																{ title: 'Confirmed deaths', colspan: 2, align: 'center', valign: 'middle' },
																{ title: 'Reported recoveries', colspan: 2, align: 'center', valign: 'middle' },
																{ field: 'lastupdate', title: 'Date', rowspan: 2, align: 'center', valign: 'middle' }
															],
															[
																{ field: 'newcases', title: 'New Cases', sortable: true, align: 'right', formatter: numberFormatter, footerFormatter: totalFormatter },
																{ field: 'totalcases', title: 'Total Cases', sortable: true, align: 'right', formatter: numberFormatter, footerFormatter: totalFormatter },
																{ field: 'newdeaths', title: 'New Deaths', sortable: true, align: 'right', formatter: numberFormatter, footerFormatter: totalFormatter },
																{ field: 'totaldeaths', title: 'Total Deaths', sortable: true, align: 'right', formatter: numberFormatter, footerFormatter: totalFormatter },
																{ field: 'newrecoveries', title: 'New Recovered', sortable: true, align: 'right', formatter: numberFormatter, footerFormatter: totalFormatter },
																{ field: 'totalrecoveries', title: 'Total Recovered', sortable: true, align: 'right', formatter: numberFormatter, footerFormatter: totalFormatter }
															]
														],
														data: arr
													});
													return myTable;
												}

												function countFormatter(data) {
													return data.length
												}

												function numberFormatter(value, row) {
													return value.toLocaleString('en-US');
												}

												function totalFormatter(data) {
													var field = this.field
													var total = data.map(function (row) {
														return row[field]
													}).reduce(function (sum, i) {
														return sum + i
													}, 0);
													return total.toLocaleString('en-US');
												}
											</script>
										</div>
									</div>
								</div>

							</div>
						</div>
					</div>
				</div>
			</div>
		</div>


	</div>


</body>
<!-- /. ROW  -->




<!-- /. WRAPPER  -->
<!-- JS Scripts-->
<!-- jQuery Js -->


<!-- Bootstrap Js -->
<script src="assets/js/bootstrap.min.js"></script>

<script src="assets/materialize/js/materialize.min.js"></script>

<!-- Metis Menu Js -->
<script src="assets/js/jquery.metisMenu.js"></script>
<!-- Morris Chart Js -->
<script src="assets/js/morris/raphael-2.1.0.min.js"></script>
<script src="assets/js/morris/morris.js"></script>


<script src="assets/js/easypiechart.js"></script>
<script src="assets/js/easypiechart-data.js"></script>

<script src="assets/js/Lightweight-Chart/jquery.chart.js"></script>

<!-- Custom Js -->
<script src="assets/js/custom-scripts.js"></script>
<script src="index.js"></script>

</body>

</html>